(this["webpackJsonpsocial_network_v.2.0"]=this["webpackJsonpsocial_network_v.2.0"]||[]).push([[0],{150:function(e,t,n){},151:function(e,t,n){},152:function(e,t,n){},158:function(e,t,n){},277:function(e,t,n){},278:function(e,t,n){},279:function(e,t,n){},280:function(e,t,n){},281:function(e,t,n){},282:function(e,t,n){},283:function(e,t,n){},284:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),c=n(55),r=n.n(c),i=(n(150),n(113)),o=n(114),l=n(119),u=n(118),d=n(12),j=n(13),b=(n(151),n(152),n.p+"static/media/friend1.5732ca8e.png"),p=n.p+"static/media/friend2.0b432112.png",m=n.p+"static/media/friend3.c56abad7.png",f=n(0),O=function(){return Object(f.jsxs)("div",{className:"nav",children:[Object(f.jsxs)("ul",{className:"nav__list",children:[Object(f.jsx)("li",{className:"nav__list-item",children:Object(f.jsx)(j.c,{to:"/profile",exact:!0,activeClassName:"nav__list-item_active",className:"nav__link",children:"Profile"})}),Object(f.jsx)("li",{className:"nav__list-item",children:Object(f.jsx)(j.c,{to:"/dialogs",activeClassName:"nav__list-item_active",className:"nav__link",children:"Messages"})}),Object(f.jsx)("li",{className:"nav__list-item",children:Object(f.jsx)(j.c,{to:"/",className:"nav__link",children:"News"})}),Object(f.jsx)("li",{className:"nav__list-item",children:Object(f.jsx)(j.c,{to:"/",className:"nav__link",children:"Music"})}),Object(f.jsx)("li",{className:"nav__list-item last",children:Object(f.jsx)(j.c,{to:"/users",className:"nav__link",children:"Find users"})}),Object(f.jsx)("li",{className:"nav__list-item last",children:Object(f.jsx)(j.c,{to:"/",className:"nav__link",children:"Settings"})})]}),Object(f.jsxs)("div",{className:"nav__friends",children:[Object(f.jsx)("div",{className:"nav__friends-title",children:"Friends"}),Object(f.jsxs)("div",{className:"nav__friends-row",children:[Object(f.jsxs)("div",{className:"nav__friends-item",children:[Object(f.jsx)("div",{className:"nav__friends-icon",children:Object(f.jsx)("img",{src:b,alt:""})}),Object(f.jsx)("div",{className:"nav__friends-name",children:"James"})]}),Object(f.jsxs)("div",{className:"nav__friends-item",children:[Object(f.jsx)("div",{className:"nav__friends-icon",children:Object(f.jsx)("img",{src:p,alt:""})}),Object(f.jsx)("div",{className:"nav__friends-name",children:"Alan"})]}),Object(f.jsxs)("div",{className:"nav__friends-item",children:[Object(f.jsx)("div",{className:"nav__friends-icon",children:Object(f.jsx)("img",{src:m,alt:""})}),Object(f.jsx)("div",{className:"nav__friends-name",children:"Marcus"})]})]})]})]})},h=n.p+"static/media/logo-descr.cce26a7e.svg",x=(n(158),n(11)),v=n(7),g=n.n(v),_=n(14),N=n(5),A=n(115).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0",headers:{"API-KEY":"8e2051ba-3198-4ba7-b7f9-6c6ee8e02777"}}),w=function(e){return A.get("/profile/".concat(e))},U=function(e){return A.put("/profile",e)},S=function(e){return A.get("/profile/status/".concat(e))},y=function(e){return A.put("/profile/status",e)},C=function(e){var t=new FormData;return t.append("image",e),A.put("/profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},T=function(){return A.get("/auth/me")},k=function(e){return A.post("/auth/login",e)},E=function(){return A.delete("/auth/login")},F=function(){return A.get("/security/get-captcha-url")},L=function(e,t){return A.get("/users?page=".concat(e,"&count=").concat(t))},I=function(e){return A.post("/follow/".concat(e))},W=function(e){return A.delete("/follow/".concat(e))},R=n(24),Y={id:null,email:null,login:null,isAuth:!1,captchaUrl:null},J=function(){return function(){var e=Object(_.a)(g.a.mark((function e(t){var n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:0===(n=e.sent).data.resultCode?(s=Object(N.a)({},n.data.data),t({type:"PUT_USER_DATA",payload:s})):t({type:"DELETE_USER_DATA"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},K=function(){return function(){var e=Object(_.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:n=e.sent,t({type:"PUT_CAPTCHA_URL",payload:{captchaUrl:n.data.url}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PUT_USER_DATA":return Object(N.a)(Object(N.a)(Object(N.a)({},e),t.payload),{},{isAuth:!0});case"DELETE_USER_DATA":return Object(N.a)(Object(N.a)({},e),{},{id:null,email:null,login:null,isAuth:!1});case"PUT_CAPTCHA_URL":return Object(N.a)(Object(N.a)({},e),t.payload);default:return e}},B=Object(x.b)((function(e){var t=e.authReducer,n=t.login,s=t.isAuth;return{login:n,id:t.id,isAuth:s}}),{logoutMeThunk:function(){return function(){var e=Object(_.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:0===e.sent.data.resultCode&&t(J());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.login,n=e.isAuth,s=e.id,a=e.logoutMeThunk;return Object(f.jsxs)("header",{className:"header",children:[Object(f.jsx)(j.b,{to:"/",className:"header__logo",children:Object(f.jsx)("img",{src:"data:image/png;base64,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",alt:""})}),Object(f.jsx)("img",{className:"header__descr",src:h,alt:""}),Object(f.jsx)("div",{className:"header__auth",children:n?Object(f.jsxs)("div",{className:"header__logged",children:[Object(f.jsx)(j.c,{to:"/profile/".concat(s),children:t}),Object(f.jsx)("button",{onClick:a,children:"Log out"})]}):Object(f.jsx)(j.c,{to:"/login",className:"header__unlogged",children:"Please login"})})]})})),G={loading:!0,profile:{},status:null},P=function(e){return{type:"CHANGE_LOADING_STATUS",loading:e}},D=function(e){return{type:"PUT_STATUS",status:e}},X=function(e){return function(){var t=Object(_.a)(g.a.mark((function t(n){var s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(P(!0)),t.next=3,w(e);case 3:200===(s=t.sent).status&&n({type:"PUT_PROFILE_DATA",payload:s.data}),n(P(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_LOADING_STATUS":return Object(N.a)(Object(N.a)({},e),{},{loading:t.loading});case"PUT_PROFILE_DATA":return Object(N.a)(Object(N.a)({},e),{},{profile:Object(N.a)({},t.payload)});case"PUT_STATUS":return Object(N.a)(Object(N.a)({},e),{},{status:t.status});case"PUT_PHOTO_URL":return Object(N.a)(Object(N.a)({},e),{},{profile:Object(N.a)(Object(N.a)({},e.profile),{},{photos:Object(N.a)({},t.payload)})});default:return e}},V=Object(x.b)(null,{postPhotoThunk:function(e){return function(){var t=Object(_.a)(g.a.mark((function t(n){var s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C(e);case 2:0===(s=t.sent).data.resultCode&&n({type:"PUT_PHOTO_URL",payload:s.data.data.photos});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.photos,n=e.postPhotoThunk,s=e.isOwner;return Object(f.jsxs)("div",{className:"profile-info__avatar",children:[Object(f.jsx)("img",{src:t.large,alt:""}),s&&Object(f.jsxs)("label",{children:["Change photo",Object(f.jsx)("input",{onChange:function(e){n(e.target.files[0]),e.target.value=""},type:"file"})]})]})})),H=n(29),q=function(e){var t=e.status,n=e.postStatusThunk,a=e.isOwner,c=Object(s.useState)(!1),r=Object(H.a)(c,2),i=r[0],o=r[1],l=Object(s.useState)(t),u=Object(H.a)(l,2),d=u[0],j=u[1];return Object(s.useEffect)((function(){j(t)}),[t]),Object(f.jsxs)("div",{className:"profile-info__status",children:[Object(f.jsx)("div",{children:"Status:"}),!i&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{children:t}),a&&Object(f.jsx)("button",{onClick:function(){return o(!0)},children:"Edit"})]}),i&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("input",{type:"text",value:d,onChange:function(e){return j(e.target.value)}}),Object(f.jsx)("button",{onClick:function(){n(d),o(!1)},children:"Save"})]})]})},Q=n(110),z=n(111),$=n(120),ee=["input","meta"],te=function(e){return function(t){var n=t.input,s=t.meta,a=s.touched,c=s.error,r=Object($.a)(t,ee),i=c&&a;return Object(f.jsxs)("div",{className:i?"_validate_error":"",children:[Object(f.jsx)(e,Object(N.a)(Object(N.a)({},n),r)),i&&Object(f.jsx)("span",{className:"_error",children:c})]})}},ne=te("input"),se=(te("textarea"),function(e){return e?void 0:"The field is required"}),ae=function(e){return function(t){return t&&t.length>e?"Field must be ".concat(e," characters or less"):void 0}},ce=function(e){var t=e.profile,n=t.fullName,s=t.aboutMe,a=t.contacts;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"profile-info__name",children:n}),Object(f.jsx)("div",{className:"profile-info__aboutme",children:s}),Object(f.jsx)("ul",{className:"profile-info__contacts",children:Object.keys(a).map((function(e){if(a[e])return Object(f.jsxs)("li",{className:"profile-info__contact",children:[e,": ",a[e]]},e)}))})]})},re=Object(z.a)({form:"profile-info"})((function(e){var t=e.profile.contacts,n=e.handleSubmit,s=e.error;return Object(f.jsxs)("form",{onSubmit:n,className:"profile-info__form",children:[Object(f.jsxs)("div",{className:"profile-info__input",children:[Object(f.jsx)("span",{children:"Name:"}),Object(f.jsx)(Q.a,{name:"fullName",component:ne,type:"text",placeholder:"Full name...",validate:[se]})]}),Object(f.jsxs)("div",{className:"profile-info__input",children:[Object(f.jsx)("span",{children:"About me:"}),Object(f.jsx)(Q.a,{name:"aboutMe",component:ne,type:"text",placeholder:"About me...",validate:[se]})]}),Object(f.jsxs)("div",{className:"profile-info__input",children:[Object(f.jsx)("span",{children:"Looking for a job:"}),Object(f.jsx)(Q.a,{name:"lookingForAJob",component:ne,type:"checkbox"})]}),Object(f.jsxs)("div",{className:"profile-info__input",children:[Object(f.jsx)("span",{children:"Job description:"}),Object(f.jsx)(Q.a,{name:"lookingForAJobDescription",component:ne,type:"text",placeholder:"Job description...",validate:[se]})]}),Object.keys(t).map((function(e){return Object(f.jsxs)("div",{className:"profile-info__input",children:[Object(f.jsxs)("span",{children:[e,":"]}),Object(f.jsx)(Q.a,{name:"contacts.".concat(e),component:ne,type:"text",placeholder:"Your ".concat(e,"...")})]},e)})),Object(f.jsx)("button",{className:"profile-info__btn",children:"Save"}),s&&Object(f.jsx)("div",{className:"profile-info__error",children:Object(f.jsx)("span",{children:s})})]})})),ie=Object(x.b)((function(e){var t=e.profileReducer,n=t.profile,s=t.profile;return{profile:n,fullName:s.fullName,aboutMe:s.aboutMe,contacts:s.contacts}}),{postProfileInfo:function(e){return function(){var t=Object(_.a)(g.a.mark((function t(n,s){var a,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=s().authReducer.id,t.next=4,U(e);case 4:0===(c=t.sent).data.resultCode?n(X(a)):n(Object(R.a)("profile-info",{_error:c.data.messages[0]})),t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),n(Object(R.a)("profile-info",{_error:"Something goes wrong, please refresh page)"})),t.abrupt("return",Promise.reject(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}()}})((function(e){var t=e.isOwner,n=e.profile,a=e.postProfileInfo,c=Object(s.useState)(!1),r=Object(H.a)(c,2),i=r[0],o=r[1];return Object(f.jsxs)("div",{className:"profile-info__content",children:[!i&&Object(f.jsx)(ce,{profile:n}),!i&&t&&Object(f.jsx)("button",{className:"profile-info__btn",onClick:function(){return o(!0)},children:"Edit"}),i&&Object(f.jsx)(re,{initialValues:n,onSubmit:function(e){a(e).then((function(){o(!1)}))},profile:n})]})})),oe=function(e){var t=e.photos,n=e.status,s=e.postStatusThunk,a=e.isOwner;return Object(f.jsxs)("div",{className:"profile-info",children:[Object(f.jsx)(V,{isOwner:a,photos:t}),Object(f.jsx)(ie,{isOwner:a}),Object(f.jsx)(q,{status:n,postStatusThunk:s,isOwner:a})]})},le=n.p+"static/media/profile_bg.f2c99c30.jpg",ue=function(){return Object(f.jsxs)("div",{className:"profile-posts",children:[Object(f.jsx)("div",{className:"profile-posts__title",children:"My posts"}),Object(f.jsxs)("form",{className:"profile-posts__form",children:[Object(f.jsx)("input",{placeholder:"Your news...",className:"profile-posts__input"}),Object(f.jsx)("button",{className:"profile-posts__btn",children:"Post"})]}),Object(f.jsxs)("div",{className:"profile-posts__wrapper",children:[Object(f.jsxs)("div",{className:"profile-post",children:[Object(f.jsx)("div",{className:"profile-post__img",children:Object(f.jsx)("img",{src:le,alt:""})}),Object(f.jsx)("div",{className:"profile-post__content",children:"Why nobody love we? yet..."})]}),Object(f.jsxs)("div",{className:"profile-post",children:[Object(f.jsx)("div",{className:"profile-post__img",children:Object(f.jsx)("img",{src:le,alt:""})}),Object(f.jsx)("div",{className:"profile-post__content",children:"Why nobody love we? yet..."})]}),Object(f.jsxs)("div",{className:"profile-post",children:[Object(f.jsx)("div",{className:"profile-post__img",children:Object(f.jsx)("img",{src:le,alt:""})}),Object(f.jsx)("div",{className:"profile-post__content",children:"Why nobody love we? yet..."})]}),Object(f.jsxs)("div",{className:"profile-post",children:[Object(f.jsx)("div",{className:"profile-post__img",children:Object(f.jsx)("img",{src:le,alt:""})}),Object(f.jsx)("div",{className:"profile-post__content",children:"Why nobody love we? yet..."})]}),Object(f.jsxs)("div",{className:"profile-post",children:[Object(f.jsx)("div",{className:"profile-post__img",children:Object(f.jsx)("img",{src:le,alt:""})}),Object(f.jsx)("div",{className:"profile-post__content",children:"Why nobody love we? yet..."})]})]})]})},de=(n(277),n(10)),je=function(e){return{isAuth:e.authReducer.isAuth}},be=function(e){return Object(x.b)(je)((function(t){return t.isAuth?Object(f.jsx)(e,Object(N.a)({},t)):Object(f.jsx)(d.a,{to:"/login"})}))},pe=n.p+"static/media/spinner.66e3e5eb.svg",me=function(){return Object(f.jsx)("div",{className:"spinner",style:{display:"flex",justifyContent:"center"},children:Object(f.jsx)("img",{src:pe,alt:""})})},fe=Object(de.d)(be,d.f,Object(x.b)((function(e){var t=e.profileReducer,n=t.loading,s=t.profile.photos;return{status:t.status,photos:s,loading:n,id:e.authReducer.id}}),{getProfileThunk:X,getStatusThunk:function(e){return function(){var t=Object(_.a)(g.a.mark((function t(n){var s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S(e);case 2:200===(s=t.sent).status&&n(D(s.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},postStatusThunk:function(e){return function(){var t=Object(_.a)(g.a.mark((function t(n){var s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(e);case 2:200===(s=t.sent).status&&n(D(s.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))((function(e){var t=e.loading,n=e.photos,a=e.match,c=e.id,r=e.getProfileThunk,i=e.getStatusThunk,o=e.postStatusThunk,l=e.status,u=a.params.userId;if(Object(s.useEffect)((function(){u||(u=c),i(u),r(u)}),[u]),t)return Object(f.jsx)(me,{});var d=void 0===a.params.userId;return Object(f.jsxs)("div",{className:"profile",children:[Object(f.jsx)("div",{className:"profile__bg-img",children:Object(f.jsx)("img",{src:le,alt:"profileBg"})}),Object(f.jsx)(oe,{photos:n,status:l,postStatusThunk:o,isOwner:d}),Object(f.jsx)(ue,{})]})})),Oe=(n(278),ae(30)),he=Object(z.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.captchaUrl,s=e.error;return Object(f.jsxs)("form",{onSubmit:t,className:"login__form",children:[Object(f.jsx)("div",{className:"login__input",children:Object(f.jsx)(Q.a,{name:"email",component:ne,type:"text",placeholder:"Your email...",validate:[se,Oe]})}),Object(f.jsx)("div",{className:"login__input",children:Object(f.jsx)(Q.a,{name:"password",component:ne,type:"text",placeholder:"Your password...",validate:[se,Oe]})}),Object(f.jsxs)("label",{className:"login__checkbox",children:[Object(f.jsx)(Q.a,{name:"rememberMe",component:"input",type:"checkbox",placeholder:"Your email..."}),Object(f.jsx)("span",{children:"Remember me"})]}),n&&Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{src:n,alt:""}),Object(f.jsx)("div",{className:"login__input",children:Object(f.jsx)(Q.a,{name:"captcha",component:"input",type:"text",placeholder:"Write captcha here..."})})]}),Object(f.jsx)("div",{className:"login__btn",children:Object(f.jsx)("button",{children:"Login"})}),s&&Object(f.jsx)("div",{className:"login__error",children:Object(f.jsx)("span",{children:s})})]})})),xe=Object(x.b)((function(e){var t=e.authReducer;return{captchaUrl:t.captchaUrl,isAuth:t.isAuth}}),{loginMeThunk:function(e){return function(){var t=Object(_.a)(g.a.mark((function t(n){var s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(e);case 2:0===(s=t.sent).data.resultCode?n(J()):(10===s.data.resultCode&&n(K()),n(Object(R.a)("login",{_error:s.data.messages[0]})));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.loginMeThunk,n=e.captchaUrl;return e.isAuth?Object(f.jsx)(d.a,{to:"/profile"}):Object(f.jsxs)("div",{className:"login",children:[Object(f.jsx)("div",{className:"login__title",children:"Login Page"}),Object(f.jsx)(he,{onSubmit:function(e){t(e)},captchaUrl:n})]})})),ve=n(117),ge={initialized:!1},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return Object(N.a)(Object(N.a)({},e),{},{initialized:!0});default:return e}},Ne=n(112),Ae=n(59),we={messages:[{id:1,body:"Hello",address:"from",name:"Andrew",img:"./../friend1.png",who:"me"},{id:2,body:"Hi",address:"to",name:"Me",img:"./../myavatar.png",who:"me"},{id:3,body:"New Social Network",address:"from",name:"Andrew",img:"./../friend1.png",who:"me"},{id:4,body:"Yes, course",address:"to",name:"Me",img:"./../myavatar.png",who:"me"}]},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_MESSAGE":return{messages:[].concat(Object(Ae.a)(e.messages),[{id:6,body:t.data,address:"to",name:"Me",img:"./../myavatar.png"}])};default:return e}},Se={users:[],pageSize:5,pageNumber:1,totalUserCount:null,loading:!1,disableUsers:[]},ye=function(e){return{type:"USERS_LOADING",loading:e}},Ce=function(e){return{type:"TOGGLE_FOLLOW",id:e}},Te=function(e,t){return{type:"TOGGLE_DISABLE",id:e,value:t}},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERS_LOADING":return Object(N.a)(Object(N.a)({},e),{},{loading:t.loading});case"PUT_USERS":return Object(N.a)(Object(N.a)({},e),{},{users:t.users});case"PUT_TOTAL_COUNT":return Object(N.a)(Object(N.a)({},e),{},{totalUserCount:t.count});case"TOGGLE_FOLLOW":return Object(N.a)(Object(N.a)({},e),{},{users:Object(Ae.a)(e.users.map((function(e){return e.id===t.id?Object(N.a)(Object(N.a)({},e),{},{followed:!e.followed}):e})))});case"TOGGLE_DISABLE":return t.value?Object(N.a)(Object(N.a)({},e),{},{disableUsers:e.users.filter((function(e){return e.id===t.id}))}):Object(N.a)(Object(N.a)({},e),{},{disableUsers:e.disableUsers.filter((function(e){return e.id!==t.id}))});default:return e}},Ee=Object(de.c)({authReducer:M,messageReducer:Ue,appReducer:_e,profileReducer:Z,usersReducer:ke,form:Ne.a}),Fe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||de.d,Le=Object(de.e)(Ee,Fe(Object(de.a)(ve.a))),Ie=n.p+"static/media/user-icon.292c8c39.jpg",We=function(e){var t=e.id,n=e.photos,s=e.name,a=e.status,c=e.followed,r=e.followUser,i=e.unFollowUser,o=e.disable;return Object(f.jsxs)("div",{className:"user",children:[Object(f.jsxs)("div",{className:"user__wrapper",children:[Object(f.jsx)(j.c,{to:"/profile/".concat(t),className:"user__img",children:Object(f.jsx)("img",{src:n.large||Ie,alt:""})}),Object(f.jsxs)("div",{className:"user__content",children:[Object(f.jsx)("div",{className:"user__name",children:s}),Object(f.jsx)("div",{className:"user__status",children:a||"Status is not defined)"})]})]}),c?Object(f.jsx)("button",{disabled:o,onClick:function(){return i(t)},className:"user__btn",children:o?"Wait a second":"UnFollow"}):Object(f.jsx)("button",{disabled:o,onClick:function(){return r(t)},className:"user__btn",children:o?"Wait a second":"Follow"})]})},Re=(n(279),function(e){for(var t=e.getUsersThunk,n=e.totalUserCount,a=e.pageSize,c=e.pageNumber,r=e.portionSize,i=void 0===r?10:r,o=Object(s.useState)(c),l=Object(H.a)(o,2),u=l[0],d=l[1],j=Object(s.useState)(c),b=Object(H.a)(j,2),p=b[0],m=b[1],O=Math.floor(n/a),h=[],x=1;x<O;x++)h.push(x);var v=i*(p-1)+1,g=i*p;return Object(f.jsxs)("div",{children:[p>1&&Object(f.jsx)("button",{onClick:function(){return m(p-1)},className:"users__btn-prev",children:"Prev"}),h.filter((function(e){return e>=v&&e<=g})).map((function(e){var n=e===u?"active":"";return Object(f.jsx)("button",{onClick:function(){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;e!==u&&(t(e,n),d(e))}(e,a)},className:"users__pag-btn ".concat(n),children:e})})),p<Math.floor(O/i)&&Object(f.jsx)("button",{onClick:function(){return m(p+1)},className:"users__btn-next",children:"Next"})]})}),Ye=Object(x.b)((function(e){var t=e.usersReducer;return{users:t.users,loading:t.loading,pageNumber:t.pageNumber,pageSize:t.pageSize,totalUserCount:t.totalUserCount,disableUsers:t.disableUsers}}),{getUsersThunk:function(e,t){return function(){var n=Object(_.a)(g.a.mark((function n(s){var a;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s(ye(!0)),n.next=3,L(e,t);case 3:null===(a=n.sent).data.error&&(s({type:"PUT_USERS",users:a.data.items}),s({type:"PUT_TOTAL_COUNT",count:a.data.totalCount})),s(ye(!1));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},followUser:function(e){return function(){var t=Object(_.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Te(e,!0)),t.next=3,I(e);case 3:0===t.sent.data.resultCode&&n(Ce(e)),n(Te(e,!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unFollowUser:function(e){return function(){var t=Object(_.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Te(e,!0)),t.next=3,W(e);case 3:0===t.sent.data.resultCode&&n(Ce(e)),n(Te(e,!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.getUsersThunk,n=e.users,a=e.loading,c=e.pageNumber,r=e.pageSize,i=e.totalUserCount,o=e.followUser,l=e.unFollowUser,u=e.disableUsers;return Object(s.useEffect)((function(){t(c,r)}),[]),Object(f.jsxs)("div",{className:"users",children:[Object(f.jsx)("div",{className:"users__title",children:"Users"}),Object(f.jsx)(Re,{getUsersThunk:t,totalUserCount:i,pageSize:r,pageNumber:c}),a?Object(f.jsx)(me,{}):Object(f.jsx)("div",{className:"users__wrapper",children:n.map((function(e){return u.some((function(t){return t.id===e.id}))?Object(f.jsx)(We,Object(N.a)(Object(N.a)({},e),{},{followUser:o,unFollowUser:l,disable:!0})):Object(f.jsx)(We,Object(N.a)(Object(N.a)({},e),{},{followUser:o,unFollowUser:l,disable:!1}))}))})]})})),Je=(n(280),function(e){var t=e.name,n=e.status;return Object(f.jsxs)("a",{href:"#",className:"dialog-item",children:[Object(f.jsx)("div",{className:"dialog-item__status ".concat(n)}),Object(f.jsx)("div",{className:"dialog-item__name",children:t})]})}),Ke=(n(281),n.p+"static/media/myavatar.ef13233d.png"),Me=(n(282),n(283),ae(150)),Be=Object(z.a)({form:"messageForm"})((function(e){return Object(f.jsxs)("form",{onSubmit:e.handleSubmit,className:"message-form",children:[Object(f.jsx)(Q.a,{type:"text",component:ne,name:"message",className:"message-form__input",placeholder:"Type here...",validate:[se,Me]}),Object(f.jsx)("button",{className:"message-form__button",children:"Send Message"})]})})),Ge={postMessage:function(e){return{type:"POST_MESSAGE",data:e}}},Pe=Object(x.b)((function(e){return{messages:e.messageReducer.messages}}),Ge)((function(e){var t=e.messages,n=e.postMessage,s=t.map((function(e){var t=e.id,n=e.body,s=e.address,a=e.name;return Object(f.jsxs)("div",{className:"message message-".concat(s),children:[Object(f.jsxs)("div",{className:"message__user",children:[Object(f.jsx)("img",{src:Ke,alt:""}),Object(f.jsx)("div",{className:"message__user-name",children:a})]}),Object(f.jsx)("div",{className:"message__content",children:n})]},t)}));return Object(f.jsxs)("div",{className:"messages",children:[s,Object(f.jsx)(Be,{onSubmit:function(e){n(e.message)}})]})})),De=Object(de.d)(be)((function(){return Object(f.jsxs)("div",{className:"dialogs",children:[Object(f.jsx)("div",{className:"dialogs__title",children:"DIALOGS (Currently under development)"}),Object(f.jsxs)("div",{className:"dialogs__wrapper",children:[Object(f.jsxs)("div",{className:"dialogs-items",children:[Object(f.jsx)(Je,{status:"online",name:"Andrew"}),Object(f.jsx)(Je,{status:"offline",name:"Viktor"}),Object(f.jsx)(Je,{status:"online",name:"Andrew"}),Object(f.jsx)(Je,{status:"offline",name:"Viktor"}),Object(f.jsx)(Je,{status:"online",name:"Andrew"}),Object(f.jsx)(Je,{status:"offline",name:"Viktor"})]}),Object(f.jsx)(Pe,{})]})]})})),Xe=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(f.jsxs)("div",{className:"wrapper",children:[Object(f.jsx)(B,{}),Object(f.jsx)(O,{}),Object(f.jsxs)("div",{className:"content",children:[Object(f.jsx)(d.b,{exact:!0,path:"/",render:function(){return Object(f.jsxs)("div",{className:"main",children:["Welcome to My Social Network ",Object(f.jsx)("span",{children:"Soon this page will be developed)"})]})}}),Object(f.jsx)(d.b,{path:"/profile/:userId?",component:fe}),Object(f.jsx)(d.b,{path:"/login",component:xe}),Object(f.jsx)(d.b,{path:"/dialogs",component:De}),Object(f.jsx)(d.b,{path:"/users",component:Ye})]})]}):Object(f.jsx)(me,{})}}]),n}(a.a.Component),Ze=Object(de.d)(Object(x.b)((function(e){return{initialized:e.appReducer.initialized}}),{initializeApp:function(){return function(){var e=Object(_.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t(J()),Promise.all([n]).then((function(){t({type:"INITIALIZED_SUCCESS"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))(Xe),Ve=function(){return Object(f.jsx)(x.a,{store:Le,children:Object(f.jsx)(j.a,{children:Object(f.jsx)(Ze,{})})})};r.a.render(Object(f.jsx)(Ve,{}),document.getElementById("root"))}},[[284,1,2]]]);
//# sourceMappingURL=main.8254a7cb.chunk.js.map