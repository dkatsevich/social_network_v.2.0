(this["webpackJsonpsocial_network_v.2.0"]=this["webpackJsonpsocial_network_v.2.0"]||[]).push([[0],{150:function(e,t,n){},151:function(e,t,n){},152:function(e,t,n){},158:function(e,t,n){},277:function(e,t,n){},278:function(e,t,n){},279:function(e,t,n){},280:function(e,t,n){"use strict";n.r(t);var s,r=n(1),c=n.n(r),a=n(55),i=n.n(a),o=(n(150),n(112)),l=n(113),u=n(119),j=n(117),d=n(11),b=n(13),p=(n(151),n(152),n.p+"static/media/friend1.5732ca8e.png"),f=n.p+"static/media/friend2.0b432112.png",h=n.p+"static/media/friend3.c56abad7.png",O=n(0),m=function(){return Object(O.jsxs)("div",{className:"nav",children:[Object(O.jsxs)("ul",{className:"nav__list",children:[Object(O.jsx)("li",{className:"nav__list-item",children:Object(O.jsx)(b.b,{to:"/profile",exact:!0,activeClassName:"nav__list-item_active",className:"nav__link",children:"Profile"})}),Object(O.jsx)("li",{className:"nav__list-item",children:Object(O.jsx)(b.b,{to:"/dialogs",activeClassName:"nav__list-item_active",className:"nav__link",children:"Messages"})}),Object(O.jsx)("li",{className:"nav__list-item",children:Object(O.jsx)(b.b,{to:"/",className:"nav__link",children:"News"})}),Object(O.jsx)("li",{className:"nav__list-item",children:Object(O.jsx)(b.b,{to:"/",className:"nav__link",children:"Music"})}),Object(O.jsx)("li",{className:"nav__list-item last",children:Object(O.jsx)(b.b,{to:"/users",className:"nav__link",children:"Find users"})}),Object(O.jsx)("li",{className:"nav__list-item last",children:Object(O.jsx)(b.b,{to:"/",className:"nav__link",children:"Settings"})})]}),Object(O.jsxs)("div",{className:"nav__friends",children:[Object(O.jsx)("div",{className:"nav__friends-title",children:"Friends"}),Object(O.jsxs)("div",{className:"nav__friends-row",children:[Object(O.jsxs)("div",{className:"nav__friends-item",children:[Object(O.jsx)("div",{className:"nav__friends-icon",children:Object(O.jsx)("img",{src:p,alt:""})}),Object(O.jsx)("div",{className:"nav__friends-name",children:"James"})]}),Object(O.jsxs)("div",{className:"nav__friends-item",children:[Object(O.jsx)("div",{className:"nav__friends-icon",children:Object(O.jsx)("img",{src:f,alt:""})}),Object(O.jsx)("div",{className:"nav__friends-name",children:"Alan"})]}),Object(O.jsxs)("div",{className:"nav__friends-item",children:[Object(O.jsx)("div",{className:"nav__friends-icon",children:Object(O.jsx)("img",{src:h,alt:""})}),Object(O.jsx)("div",{className:"nav__friends-name",children:"Marcus"})]})]})]})]})},x=n.p+"static/media/logo-descr.cce26a7e.svg",v=(n(158),n(12)),_=n(7),g=n.n(_),N=n(14),A=n(5),U=n(114).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0",headers:{"API-KEY":"8e2051ba-3198-4ba7-b7f9-6c6ee8e02777"}}),w=function(e){return U.get("/profile/".concat(e))},S=function(e){return U.put("/profile",e)},y=function(e){return U.get("/profile/status/".concat(e))},C=function(e){return U.put("/profile/status",e)},T=function(e){var t=new FormData;return t.append("image",e),U.put("/profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},k=function(){return U.get("/auth/me")},E=function(e){return U.post("/auth/login",e)},F=function(){return U.delete("/auth/login")},L=function(){return U.get("/security/get-captcha-url")},I=function(e,t){return U.get("/users?page=".concat(e,"&count=").concat(t))},W=function(e){return U.post("/follow/".concat(e))},R=function(e){return U.delete("/follow/".concat(e))},J=n(26),Y={id:null,email:null,login:null,isAuth:!1,captchaUrl:null},K=function(){return function(){var e=Object(N.a)(g.a.mark((function e(t){var n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:0===(n=e.sent).data.resultCode?(s=Object(A.a)({},n.data.data),t({type:"PUT_USER_DATA",payload:s})):t({type:"DELETE_USER_DATA"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},B=function(){return function(){var e=Object(N.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:n=e.sent,t({type:"PUT_CAPTCHA_URL",payload:{captchaUrl:n.data.url}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PUT_USER_DATA":return Object(A.a)(Object(A.a)(Object(A.a)({},e),t.payload),{},{isAuth:!0});case"DELETE_USER_DATA":return Object(A.a)(Object(A.a)({},e),{},{id:null,email:null,login:null,isAuth:!1});case"PUT_CAPTCHA_URL":return Object(A.a)(Object(A.a)({},e),t.payload);default:return e}},G=Object(v.b)((function(e){var t=e.authReducer,n=t.login,s=t.isAuth;return{login:n,id:t.id,isAuth:s}}),{logoutMeThunk:function(){return function(){var e=Object(N.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:0===e.sent.data.resultCode&&t(K());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.login,n=e.isAuth,s=e.id,r=e.logoutMeThunk;return Object(O.jsxs)("header",{className:"header",children:[Object(O.jsx)("div",{className:"header__logo",children:Object(O.jsx)("img",{src:"data:image/png;base64,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",alt:""})}),Object(O.jsx)("img",{className:"header__descr",src:x,alt:""}),Object(O.jsx)("div",{className:"header__auth",children:n?Object(O.jsxs)("div",{className:"header__logged",children:[Object(O.jsx)(b.b,{to:"/profile/".concat(s),children:t}),Object(O.jsx)("button",{onClick:r,children:"Log out"})]}):Object(O.jsx)(b.b,{to:"/login",className:"header__unlogged",children:"Please login"})})]})})),P={loading:!0,profile:{},status:null},D=function(e){return{type:"CHANGE_LOADING_STATUS",loading:e}},X=function(e){return{type:"PUT_STATUS",status:e}},Z=function(e){return function(){var t=Object(N.a)(g.a.mark((function t(n){var s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(D(!0)),t.next=3,w(e);case 3:200===(s=t.sent).status&&n({type:"PUT_PROFILE_DATA",payload:s.data}),n(D(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_LOADING_STATUS":return Object(A.a)(Object(A.a)({},e),{},{loading:t.loading});case"PUT_PROFILE_DATA":return Object(A.a)(Object(A.a)({},e),{},{profile:Object(A.a)({},t.payload)});case"PUT_STATUS":return Object(A.a)(Object(A.a)({},e),{},{status:t.status});case"PUT_PHOTO_URL":return Object(A.a)(Object(A.a)({},e),{},{profile:Object(A.a)(Object(A.a)({},e.profile),{},{photos:Object(A.a)({},t.payload)})});default:return e}},V=Object(v.b)(null,{postPhotoThunk:function(e){return function(){var t=Object(N.a)(g.a.mark((function t(n){var s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T(e);case 2:0===(s=t.sent).data.resultCode&&n({type:"PUT_PHOTO_URL",payload:s.data.data.photos});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.photos,n=e.postPhotoThunk,s=e.isOwner;return Object(O.jsxs)("div",{className:"profile-info__avatar",children:[Object(O.jsx)("img",{src:t.large,alt:""}),s&&Object(O.jsxs)("label",{children:["Change photo",Object(O.jsx)("input",{onChange:function(e){n(e.target.files[0]),e.target.value=""},type:"file"})]})]})})),q=n(29),Q=function(e){var t=e.status,n=e.postStatusThunk,s=e.isOwner,c=Object(r.useState)(!1),a=Object(q.a)(c,2),i=a[0],o=a[1],l=Object(r.useState)(t),u=Object(q.a)(l,2),j=u[0],d=u[1];return Object(r.useEffect)((function(){d(t)}),[t]),Object(O.jsxs)("div",{className:"profile-info__status",children:[Object(O.jsx)("div",{children:"Status:"}),!i&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("span",{children:t}),s&&Object(O.jsx)("button",{onClick:function(){return o(!0)},children:"Edit"})]}),i&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("input",{type:"text",value:j,onChange:function(e){return d(e.target.value)}}),Object(O.jsx)("button",{onClick:function(){n(j),o(!1)},children:"Save"})]})]})},z=n(109),$=n(110),ee=n(120),te=["input","meta"],ne=function(e){return function(t){var n=t.input,s=t.meta,r=s.touched,c=s.error,a=Object(ee.a)(t,te),i=c&&r;return Object(O.jsxs)("div",{className:i?"_validate_error":"",children:[Object(O.jsx)(e,Object(A.a)(Object(A.a)({},n),a)),i&&Object(O.jsx)("span",{className:"_error",children:c})]})}},se=ne("input"),re=(ne("textarea"),function(e){return e?void 0:"The field is required"}),ce=function(e){var t=e.profile,n=t.fullName,s=t.aboutMe,r=t.contacts;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"profile-info__name",children:n}),Object(O.jsx)("div",{className:"profile-info__aboutme",children:s}),Object(O.jsx)("ul",{className:"profile-info__contacts",children:Object.keys(r).map((function(e){if(r[e])return Object(O.jsxs)("li",{className:"profile-info__contact",children:[e,": ",r[e]]},e)}))})]})},ae=Object($.a)({form:"profile-info"})((function(e){var t=e.profile.contacts,n=e.handleSubmit,s=e.error;return Object(O.jsxs)("form",{onSubmit:n,className:"profile-info__form",children:[Object(O.jsxs)("div",{className:"profile-info__input",children:[Object(O.jsx)("span",{children:"Name:"}),Object(O.jsx)(z.a,{name:"fullName",component:se,type:"text",placeholder:"Full name...",validate:[re]})]}),Object(O.jsxs)("div",{className:"profile-info__input",children:[Object(O.jsx)("span",{children:"About me:"}),Object(O.jsx)(z.a,{name:"aboutMe",component:se,type:"text",placeholder:"About me...",validate:[re]})]}),Object(O.jsxs)("div",{className:"profile-info__input",children:[Object(O.jsx)("span",{children:"Looking for a job:"}),Object(O.jsx)(z.a,{name:"lookingForAJob",component:se,type:"checkbox"})]}),Object(O.jsxs)("div",{className:"profile-info__input",children:[Object(O.jsx)("span",{children:"Job description:"}),Object(O.jsx)(z.a,{name:"lookingForAJobDescription",component:se,type:"text",placeholder:"Job description...",validate:[re]})]}),Object.keys(t).map((function(e){return Object(O.jsxs)("div",{className:"profile-info__input",children:[Object(O.jsxs)("span",{children:[e,":"]}),Object(O.jsx)(z.a,{name:"contacts.".concat(e),component:se,type:"text",placeholder:"Your ".concat(e,"...")})]},e)})),Object(O.jsx)("button",{className:"profile-info__btn",children:"Save"}),s&&Object(O.jsx)("div",{className:"profile-info__error",children:Object(O.jsx)("span",{children:s})})]})})),ie=Object(v.b)((function(e){var t=e.profileReducer,n=t.profile,s=t.profile;return{profile:n,fullName:s.fullName,aboutMe:s.aboutMe,contacts:s.contacts}}),{postProfileInfo:function(e){return function(){var t=Object(N.a)(g.a.mark((function t(n,s){var r,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=s().authReducer.id,t.next=4,S(e);case 4:0===(c=t.sent).data.resultCode?n(Z(r)):n(Object(J.a)("profile-info",{_error:c.data.messages[0]})),t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),n(Object(J.a)("profile-info",{_error:"Something goes wrong, please refresh page)"})),t.abrupt("return",Promise.reject(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}()}})((function(e){var t=e.isOwner,n=e.profile,s=e.postProfileInfo,c=Object(r.useState)(!1),a=Object(q.a)(c,2),i=a[0],o=a[1];return Object(O.jsxs)("div",{className:"profile-info__content",children:[!i&&Object(O.jsx)(ce,{profile:n}),!i&&t&&Object(O.jsx)("button",{className:"profile-info__btn",onClick:function(){return o(!0)},children:"Edit"}),i&&Object(O.jsx)(ae,{initialValues:n,onSubmit:function(e){s(e).then((function(){o(!1)}))},profile:n})]})})),oe=function(e){var t=e.photos,n=e.status,s=e.postStatusThunk,r=e.isOwner;return Object(O.jsxs)("div",{className:"profile-info",children:[Object(O.jsx)(V,{isOwner:r,photos:t}),Object(O.jsx)(ie,{isOwner:r}),Object(O.jsx)(Q,{status:n,postStatusThunk:s,isOwner:r})]})},le=n.p+"static/media/profile_bg.f2c99c30.jpg",ue=function(){return Object(O.jsxs)("div",{className:"profile-posts",children:[Object(O.jsx)("div",{className:"profile-posts__title",children:"My posts"}),Object(O.jsxs)("form",{className:"profile-posts__form",children:[Object(O.jsx)("input",{placeholder:"Your news...",className:"profile-posts__input"}),Object(O.jsx)("button",{className:"profile-posts__btn",children:"Post"})]}),Object(O.jsxs)("div",{className:"profile-posts__wrapper",children:[Object(O.jsxs)("div",{className:"profile-post",children:[Object(O.jsx)("div",{className:"profile-post__img",children:Object(O.jsx)("img",{src:le,alt:""})}),Object(O.jsx)("div",{className:"profile-post__content",children:"Why nobody love we? yet..."})]}),Object(O.jsxs)("div",{className:"profile-post",children:[Object(O.jsx)("div",{className:"profile-post__img",children:Object(O.jsx)("img",{src:le,alt:""})}),Object(O.jsx)("div",{className:"profile-post__content",children:"Why nobody love we? yet..."})]}),Object(O.jsxs)("div",{className:"profile-post",children:[Object(O.jsx)("div",{className:"profile-post__img",children:Object(O.jsx)("img",{src:le,alt:""})}),Object(O.jsx)("div",{className:"profile-post__content",children:"Why nobody love we? yet..."})]}),Object(O.jsxs)("div",{className:"profile-post",children:[Object(O.jsx)("div",{className:"profile-post__img",children:Object(O.jsx)("img",{src:le,alt:""})}),Object(O.jsx)("div",{className:"profile-post__content",children:"Why nobody love we? yet..."})]}),Object(O.jsxs)("div",{className:"profile-post",children:[Object(O.jsx)("div",{className:"profile-post__img",children:Object(O.jsx)("img",{src:le,alt:""})}),Object(O.jsx)("div",{className:"profile-post__content",children:"Why nobody love we? yet..."})]})]})]})},je=(n(277),n(10)),de=function(e){return{isAuth:e.authReducer.isAuth}},be=function(e){return Object(v.b)(de)((function(t){return t.isAuth?Object(O.jsx)(e,Object(A.a)({},t)):Object(O.jsx)(d.a,{to:"/login"})}))},pe=n.p+"static/media/spinner.66e3e5eb.svg",fe=function(){return Object(O.jsx)("div",{className:"spinner",style:{display:"flex",justifyContent:"center"},children:Object(O.jsx)("img",{src:pe,alt:""})})},he=Object(je.d)(be,d.f,Object(v.b)((function(e){var t=e.profileReducer,n=t.loading,s=t.profile.photos;return{status:t.status,photos:s,loading:n,id:e.authReducer.id}}),{getProfileThunk:Z,getStatusThunk:function(e){return function(){var t=Object(N.a)(g.a.mark((function t(n){var s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(e);case 2:200===(s=t.sent).status&&n(X(s.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},postStatusThunk:function(e){return function(){var t=Object(N.a)(g.a.mark((function t(n){var s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C(e);case 2:200===(s=t.sent).status&&n(X(s.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))((function(e){var t=e.loading,n=e.photos,s=e.match,c=e.id,a=e.getProfileThunk,i=e.getStatusThunk,o=e.postStatusThunk,l=e.status,u=s.params.userId;if(Object(r.useEffect)((function(){u||(u=c),i(u),a(u)}),[u]),t)return Object(O.jsx)(fe,{});var j=void 0===s.params.userId;return Object(O.jsxs)("div",{className:"profile",children:[Object(O.jsx)("div",{className:"profile__bg-img",children:Object(O.jsx)("img",{src:le,alt:"profileBg"})}),Object(O.jsx)(oe,{photos:n,status:l,postStatusThunk:o,isOwner:j}),Object(O.jsx)(ue,{})]})})),Oe=(n(278),s=30,function(e){return e&&e.length>s?"Field must be ".concat(s," characters or less"):void 0}),me=Object($.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.captchaUrl,s=e.error;return Object(O.jsxs)("form",{onSubmit:t,className:"login__form",children:[Object(O.jsx)("div",{className:"login__input",children:Object(O.jsx)(z.a,{name:"email",component:se,type:"text",placeholder:"Your email...",validate:[re,Oe]})}),Object(O.jsx)("div",{className:"login__input",children:Object(O.jsx)(z.a,{name:"password",component:se,type:"text",placeholder:"Your password...",validate:[re,Oe]})}),Object(O.jsxs)("label",{className:"login__checkbox",children:[Object(O.jsx)(z.a,{name:"rememberMe",component:"input",type:"checkbox",placeholder:"Your email..."}),Object(O.jsx)("span",{children:"Remember me"})]}),n&&Object(O.jsxs)("div",{children:[Object(O.jsx)("img",{src:n,alt:""}),Object(O.jsx)("div",{className:"login__input",children:Object(O.jsx)(z.a,{name:"captcha",component:"input",type:"text",placeholder:"Write captcha here..."})})]}),Object(O.jsx)("div",{className:"login__btn",children:Object(O.jsx)("button",{children:"Login"})}),s&&Object(O.jsx)("div",{className:"login__error",children:Object(O.jsx)("span",{children:s})})]})})),xe=Object(v.b)((function(e){var t=e.authReducer;return{captchaUrl:t.captchaUrl,isAuth:t.isAuth}}),{loginMeThunk:function(e){return function(){var t=Object(N.a)(g.a.mark((function t(n){var s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E(e);case 2:0===(s=t.sent).data.resultCode?n(K()):(10===s.data.resultCode&&n(B()),n(Object(J.a)("login",{_error:s.data.messages[0]})));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.loginMeThunk,n=e.captchaUrl;return e.isAuth?Object(O.jsx)(d.a,{to:"/profile"}):Object(O.jsxs)("div",{className:"login",children:[Object(O.jsx)("div",{className:"login__title",children:"Login Page"}),Object(O.jsx)(me,{onSubmit:function(e){t(e)},captchaUrl:n})]})})),ve=n(116),_e={initialized:!1},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return Object(A.a)(Object(A.a)({},e),{},{initialized:!0});default:return e}},Ne=n(111),Ae=n(118),Ue={users:[],pageSize:5,pageNumber:1,totalUserCount:null,loading:!1,disableUsers:[]},we=function(e){return{type:"USERS_LOADING",loading:e}},Se=function(e){return{type:"TOGGLE_FOLLOW",id:e}},ye=function(e,t){return{type:"TOGGLE_DISABLE",id:e,value:t}},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERS_LOADING":return Object(A.a)(Object(A.a)({},e),{},{loading:t.loading});case"PUT_USERS":return Object(A.a)(Object(A.a)({},e),{},{users:t.users});case"PUT_TOTAL_COUNT":return Object(A.a)(Object(A.a)({},e),{},{totalUserCount:t.count});case"TOGGLE_FOLLOW":return Object(A.a)(Object(A.a)({},e),{},{users:Object(Ae.a)(e.users.map((function(e){return e.id===t.id?Object(A.a)(Object(A.a)({},e),{},{followed:!e.followed}):e})))});case"TOGGLE_DISABLE":return t.value?Object(A.a)(Object(A.a)({},e),{},{disableUsers:e.users.filter((function(e){return e.id===t.id}))}):Object(A.a)(Object(A.a)({},e),{},{disableUsers:e.disableUsers.filter((function(e){return e.id!==t.id}))});default:return e}},Te=Object(je.c)({authReducer:M,appReducer:ge,profileReducer:H,usersReducer:Ce,form:Ne.a}),ke=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||je.d,Ee=Object(je.e)(Te,ke(Object(je.a)(ve.a))),Fe=n.p+"static/media/user-icon.292c8c39.jpg",Le=function(e){var t=e.id,n=e.photos,s=e.name,r=e.status,c=e.followed,a=e.followUser,i=e.unFollowUser,o=e.disable;return Object(O.jsxs)("div",{className:"user",children:[Object(O.jsxs)("div",{className:"user__wrapper",children:[Object(O.jsx)(b.b,{to:"/profile/".concat(t),className:"user__img",children:Object(O.jsx)("img",{src:n.large||Fe,alt:""})}),Object(O.jsxs)("div",{className:"user__content",children:[Object(O.jsx)("div",{className:"user__name",children:s}),Object(O.jsx)("div",{className:"user__status",children:r||"Status is not defined)"})]})]}),c?Object(O.jsx)("button",{disabled:o,onClick:function(){return i(t)},className:"user__btn",children:o?"Wait a second":"UnFollow"}):Object(O.jsx)("button",{disabled:o,onClick:function(){return a(t)},className:"user__btn",children:o?"Wait a second":"Follow"})]})},Ie=(n(279),function(e){for(var t=e.getUsersThunk,n=e.totalUserCount,s=e.pageSize,c=e.pageNumber,a=e.portionSize,i=void 0===a?10:a,o=Object(r.useState)(c),l=Object(q.a)(o,2),u=l[0],j=l[1],d=Object(r.useState)(c),b=Object(q.a)(d,2),p=b[0],f=b[1],h=Math.floor(n/s),m=[],x=1;x<h;x++)m.push(x);var v=i*(p-1)+1,_=i*p;return Object(O.jsxs)("div",{children:[p>1&&Object(O.jsx)("button",{onClick:function(){return f(p-1)},className:"users__btn-prev",children:"Prev"}),m.filter((function(e){return e>=v&&e<=_})).map((function(e){var n=e===u?"active":"";return Object(O.jsx)("button",{onClick:function(){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;e!==u&&(t(e,n),j(e))}(e,s)},className:"users__pag-btn ".concat(n),children:e})})),p<Math.floor(h/i)&&Object(O.jsx)("button",{onClick:function(){return f(p+1)},className:"users__btn-next",children:"Next"})]})}),We=Object(v.b)((function(e){var t=e.usersReducer;return{users:t.users,loading:t.loading,pageNumber:t.pageNumber,pageSize:t.pageSize,totalUserCount:t.totalUserCount,disableUsers:t.disableUsers}}),{getUsersThunk:function(e,t){return function(){var n=Object(N.a)(g.a.mark((function n(s){var r;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s(we(!0)),n.next=3,I(e,t);case 3:null===(r=n.sent).data.error&&(s({type:"PUT_USERS",users:r.data.items}),s({type:"PUT_TOTAL_COUNT",count:r.data.totalCount})),s(we(!1));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},followUser:function(e){return function(){var t=Object(N.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(ye(e,!0)),t.next=3,W(e);case 3:0===t.sent.data.resultCode&&n(Se(e)),n(ye(e,!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unFollowUser:function(e){return function(){var t=Object(N.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(ye(e,!0)),t.next=3,R(e);case 3:0===t.sent.data.resultCode&&n(Se(e)),n(ye(e,!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.getUsersThunk,n=e.users,s=e.loading,c=e.pageNumber,a=e.pageSize,i=e.totalUserCount,o=e.followUser,l=e.unFollowUser,u=e.disableUsers;return Object(r.useEffect)((function(){t(c,a)}),[]),Object(O.jsxs)("div",{className:"users",children:[Object(O.jsx)("div",{className:"users__title",children:"Users"}),Object(O.jsx)(Ie,{getUsersThunk:t,totalUserCount:i,pageSize:a,pageNumber:c}),s?Object(O.jsx)(fe,{}):Object(O.jsx)("div",{className:"users__wrapper",children:n.map((function(e){return u.some((function(t){return t.id===e.id}))?Object(O.jsx)(Le,Object(A.a)(Object(A.a)({},e),{},{followUser:o,unFollowUser:l,disable:!0})):Object(O.jsx)(Le,Object(A.a)(Object(A.a)({},e),{},{followUser:o,unFollowUser:l,disable:!1}))}))})]})})),Re=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(O.jsxs)("div",{className:"wrapper",children:[Object(O.jsx)(G,{}),Object(O.jsx)(m,{}),Object(O.jsxs)("div",{className:"content",children:[Object(O.jsx)(d.b,{exact:!0,path:"/",render:function(){return Object(O.jsx)("div",{children:"H"})}}),Object(O.jsx)(d.b,{path:"/profile/:userId?",component:he}),Object(O.jsx)(d.b,{path:"/login",component:xe}),Object(O.jsx)(d.b,{path:"/users",component:We})]})]}):Object(O.jsx)(fe,{})}}]),n}(c.a.Component),Je=Object(je.d)(Object(v.b)((function(e){return{initialized:e.appReducer.initialized}}),{initializeApp:function(){return function(){var e=Object(N.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t(K()),Promise.all([n]).then((function(){t({type:"INITIALIZED_SUCCESS"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))(Re),Ye=function(){return Object(O.jsx)(v.a,{store:Ee,children:Object(O.jsx)(b.a,{children:Object(O.jsx)(Je,{})})})};i.a.render(Object(O.jsx)(Ye,{}),document.getElementById("root"))}},[[280,1,2]]]);
//# sourceMappingURL=main.4741c73b.chunk.js.map